# DishVisionBot ‚Äî Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∏—Ç–∞–Ω–∏—è –ø–æ —Ñ–æ—Ç–æ

DishVisionBot ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –µ–¥—É –ø–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –ë–ñ–£ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç –±–ª—é–¥–∞. –ë–æ—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—è—Ç –∑–∞ –ø–∏—Ç–∞–Ω–∏–µ–º –∏ —Ö–æ—Ç—è—Ç –±—ã—Å—Ç—Ä–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω–∏ —Å—ä–µ–ª–∏.

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∫–∞–∫ **–∫–æ–¥ –±–æ—Ç–∞**, —Ç–∞–∫ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ **–¢–ó –≤ –ø–∞–ø–∫–µ `docs/`**.

---

## üöÄ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: **v0.1.0 (MVP)**

–ß—Ç–æ —É–∂–µ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:

- –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –±–ª—é–¥–∞ –≤ Telegram;
- –¥–æ–ø–∏—Å–∞—Ç—å –∫ —Ñ–æ—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —É—Ç–æ—á–Ω–µ–Ω–∏–π (—á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Ç–∞—Ä–µ–ª–∫–µ, –∫–∞–∫–∏–µ —Å–æ—É—Å—ã –∏ —Ç.–ø.);
- –ø–æ–ª—É—á–∏—Ç—å:
  - üî• —Ä–∞—Å—á—ë—Ç –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏ –∏ –ë–ñ–£ (–ø–æ —Ñ–æ—Ç–æ + –æ–ø–∏—Å–∞–Ω–∏—é),
  - üìñ —Ä–µ—Ü–µ–ø—Ç –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ –±–ª—é–¥–∞.

–î–∞–ª—å—à–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —É—á—ë—Ç –ª–∏–º–∏—Ç–æ–≤, —Ç–∞—Ä–∏—Ñ—ã, –¥–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è, –∞–¥–º–∏–Ω–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É.

---

## üçΩ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ê–Ω–∞–ª–∏–∑ –ø–∏—Ç–∞–Ω–∏—è –ø–æ —Ñ–æ—Ç–æ

- –õ—é–±–æ–µ —Ñ–æ—Ç–æ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –±–æ—Ç—É, –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ä—Ç –∞–Ω–∞–ª–∏–∑–∞.
- –§–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ FSM-—Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –±–ª—é–¥–∞ ‚Äî –±–æ—Ç –∞–∫–∫—É–º—É–ª–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç.

### 2. –ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –ë–ñ–£

–ö–Ω–æ–ø–∫–∞ **¬´üî• –ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å¬ª** –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ OpenAI:

- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è vision-–º–æ–¥–µ–ª—å (`gpt-4o-mini`);
- —Å–∏—Å—Ç–µ–º–∞:
  - —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–ª—é–¥–∞ (–≥–∞—Ä–Ω–∏—Ä—ã, —Å–æ—É—Å—ã, –Ω–∞–ø–∏—Ç–∫–∏, —Ö–ª–µ–±);
  - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ—Ä—Ü–∏—é –≤–∏–∑—É–∞–ª—å–Ω–æ;
  - —Å—á–∏—Ç–∞–µ—Ç **–æ–±—â—É—é –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –ë–ñ–£ –ø–æ—Ä—Ü–∏–∏**, –∞ –Ω–µ ¬´–∑–∞ 100 –≥¬ª;
  - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—ã—Ç–æ–≤—ã–µ –º–µ—Ä–∫–∏ (–ª–æ–∂–∫–∏, —Å—Ç–∞–∫–∞–Ω—ã, —â–µ–ø–æ—Ç–∫–∏).

–ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–ø–æ—Ä–Ω—ã–µ –º–µ—Å—Ç–∞  
(–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—É—Å –ø–æ—Ö–æ–∂ –∏ –Ω–∞ –º–∞–π–æ–Ω–µ–∑, –∏ –Ω–∞ –π–æ–≥—É—Ä—Ç).

### 3. –†–µ—Ü–µ–ø—Ç –ø–æ —Ñ–æ—Ç–æ

–ö–Ω–æ–ø–∫–∞ **¬´üìñ –†–µ—Ü–µ–ø—Ç¬ª**:

- –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–ª—é–¥–∞ –Ω–∞ —Ñ–æ—Ç–æ;
- –¥–∞—ë—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç:
  - —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–±—ä—ë–º–∞–º–∏;
  - –ø–æ—à–∞–≥–æ–≤–æ–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ;
  - –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–∫–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π;
- —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–æ—Å—Ç–∞–≤—É.

### 4. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ UX

- –í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –Ω–∞ —Ä—É—Å—Å–∫–æ–º.
- –¢–µ–∫—Å—Ç—ã –∏ –ø–æ–¥–ø–∏—Å–∏ –∫–Ω–æ–ø–æ–∫ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤:
  - `app/locales/ru/texts.py`
  - `app/locales/ru/buttons.py`

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã:

- `app/main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞:
  - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `Bot`, `Dispatcher`, FSM;
  - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞;
  - —Å—Ç–∞—Ä—Ç `polling`.

- `app/bot/handlers/`
  - `main_menu.py` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è.
  - `analysis.py` ‚Äî –ø—Ä–∏—ë–º —Ñ–æ—Ç–æ, —Å–±–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –≤—ã–∑–æ–≤—ã GPT –¥–ª—è:
    - –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏,
    - —Ä–µ—Ü–µ–ø—Ç–æ–≤.
  - `profile.py` ‚Äî –∑–∞–¥–µ–ª –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∞—Ä–∏—Ñ—ã, –ª–∏–º–∏—Ç—ã).
  - `reports.py` ‚Äî –∑–∞–¥–µ–ª –ø–æ–¥ –æ—Ç—á—ë—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é.
  - `premium.py`, `admin.py` ‚Äî –∑–∞–¥–µ–ª –ø–æ–¥ –ø—Ä–µ–º–∏—É–º –∏ –∞–¥–º–∏–Ω–∫—É.
  - `__init__.py` ‚Äî —Å–±–æ—Ä–∫–∞ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞.

- `app/services/`
  - `gpt_client.py` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ OpenAI:
    - –≤—ã–∑–æ–≤—ã text+image (vision),
    - —Ä–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª–∏,
    - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π.

- `app/prompts/`
  - `food_analysis.py` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã:
    - `SYSTEM_PROMPT_NUTRITION` ‚Äî –¥–∏–µ—Ç–æ–ª–æ–≥/–∞–Ω–∞–ª–∏–∑ –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏;
    - `SYSTEM_PROMPT_RECIPE` ‚Äî —à–µ—Ñ-–ø–æ–≤–∞—Ä/—Ä–µ—Ü–µ–ø—Ç—ã;
    - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.

- `app/locales/ru/`
  - `texts.py` ‚Äî –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
  - `buttons.py` ‚Äî –≤—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫.

- `docs/`
  - `01_overview.md` ‚Äî –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ —Ç–∞—Ä–∏—Ñ–æ–≤.
  - `02_navigation_and_fsm.md` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ FSM-—Å–æ—Å—Ç–æ—è–Ω–∏—è.
  - `03_user_stories.md` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (US1‚ÄìUS7).
  - `04_db_schema.md` ‚Äî —á–µ—Ä–Ω–æ–≤–∞—è —Å—Ö–µ–º–∞ –ë–î.
  - `05_openai_prompts.md` ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å OpenAI.
  - `06_abuse_protection.md` ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π –∏ –ª–∏–º–∏—Ç–æ–≤.
  - `07_nonfunctional_requirements.md` ‚Äî –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.
  - `08_localization_ru.md` ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

- –ö–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
  - `Makefile` ‚Äî —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
  - `docker-compose.yml` ‚Äî –∑–∞–¥–µ–ª –¥–ª—è –ø—Ä–æ–¥-—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è.
  - `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

